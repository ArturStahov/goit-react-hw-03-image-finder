(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{165:function(n,t,e){"use strict";e.r(t);var r=e(2),a=e(30),i=e.n(a),o=(e(42),e(43),e(20)),c=e(9),s=e(10),u=e(12),l=e(11),d=e(1),h=e(4),f=e(5);function p(){var n=Object(h.a)(["\npadding:50px 0px 20px;\nwidth:100%;\nbackground-color:grey;\n"]);return p=function(){return n},n}var b=f.a.header(p());function j(n){var t=n.children;return Object(r.jsx)(b,{id:"page-header",children:Object(r.jsx)("nav",{children:t})})}function g(){var n=Object(h.a)(["\nwidth:100%;\nheight:30px;\nborder: 2px solid black;\nborder-radius:0.5rem;\npadding-left: 10px;\nfont-size:1rem;\n"]);return g=function(){return n},n}function v(){var n=Object(h.a)(["\nmax-width:350px;\nmargin:0 auto;\nmargin-bottom:10px;\n"]);return v=function(){return n},n}var m=f.a.form(v()),O=f.a.input(g()),x=function(n){Object(u.a)(e,n);var t=Object(l.a)(e);function e(){var n;Object(c.a)(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=t.call.apply(t,[this].concat(a))).state={inputValue:""},n.handleInput=function(t){n.setState({inputValue:t.target.value})},n.handlerForm=function(t){t.preventDefault();var e=n.state.inputValue;n.props.onSearch(e),n.setState({inputValue:""})},n}return Object(s.a)(e,[{key:"render",value:function(){return Object(r.jsx)(m,{onSubmit:this.handlerForm,children:Object(r.jsx)(O,{type:"text",value:this.state.inputValue,onChange:this.handleInput,placeholder:"Search images and photos"})})}}]),e}(d.Component);function y(){var n=Object(h.a)(["\npadding:50px 0px 50px;\nmax-width:1000px;\nmargin:0 auto;\n"]);return y=function(){return n},n}var w=f.a.section(y());function k(n){var t=n.children;return Object(r.jsx)(w,{children:t})}var S=e(7),I=e(8),C=e(13),L=e.p+"static/media/default-image.2e01288c.jpg";function F(){var n=Object(h.a)(["\nposition:absolute;\nleft:50%;\ntop:50%;\ntransform:translate(-50%,-50%);\n"]);return F=function(){return n},n}function M(){var n=Object(h.a)(["\nfont-size:0.8rem;\nfont-weight:600;\ncolor:#fff;\n&:not(:last-child){\n    margin-right:10px;\n}\n"]);return M=function(){return n},n}function U(){var n=Object(h.a)(["\nwidth:100%;\ndisplay:flex;\njustify-content:center;\nposition:absolute;\nbottom:5px;\n"]);return U=function(){return n},n}function A(){var n=Object(h.a)(["\nvisibility:hidden;\nopacity:0;\nposition:absolute;\nbackground-color:rgba(0,0,0,0.7);\ntop:0;\nleft:0;\nright:0;\nbottom: 0;\ntransition-property:opacity;\ntransition-duration:0.3s;\n"]);return A=function(){return n},n}function z(){var n=Object(h.a)(["\nheight:100%;\nwidth:100%;\n"]);return z=function(){return n},n}function E(){var n=Object(h.a)(["\nposition:relative;\nwidth:300px;\nheight:200px;\nmargin-bottom:25px;\n\n&:hover .overlay{\nvisibility:visible;\nopacity:1;\n}\n&:hover{\n   \n    box-shadow: 10px 5px 5px grey;\n    border:3px solid green;\n    animation: 2s "," ease-in-out;\n}\ncursor:zoom-in;\n"]);return E=function(){return n},n}function H(){var n=Object(h.a)(["\nwidth:100%;\ndisplay:flex;\nflex-wrap:wrap;\njustify-content:space-around;\n"]);return H=function(){return n},n}function V(){var n=Object(h.a)(["",""]);return V=function(){return n},n}var q=Object(f.b)(V(),C.tada),N=f.a.ul(H()),T=f.a.li(E(),q),D=f.a.img(z()),B=f.a.div(A()),G=f.a.div(U()),J=f.a.span(M()),R=f.a.div(F());function _(n){var t=n.imagesArr,e=n.onGetLargeImg;return Object(r.jsx)(N,{children:t.map((function(n){var t=n.id,a=n.webformatURL,i=void 0===a?L:a,o=n.largeImageURL,c=n.tags,s=n.likes,u=n.views,l=n.downloads;return Object(r.jsxs)(T,{onClick:function(){return e(o)},children:[Object(r.jsxs)(B,{className:"overlay",children:[Object(r.jsxs)(R,{children:[" ",Object(r.jsx)(S.a,{icon:I.d,color:"green",size:"3x"})]}),Object(r.jsxs)(G,{children:[Object(r.jsxs)(J,{children:[Object(r.jsx)(S.a,{icon:I.b,color:"green"})," ",u]}),Object(r.jsxs)(J,{children:[Object(r.jsx)(S.a,{icon:I.e,color:"green"})," ",s]}),Object(r.jsxs)(J,{children:[Object(r.jsx)(S.a,{icon:I.c,color:"green"})," ",l]})]})]}),Object(r.jsx)(D,{src:i,alt:c})]},t)}))})}var P=e(34),W=e.n(P);function K(n,t){return W.a.get("".concat("https://pixabay.com/api/","?key=").concat("18487031-50da0da9ba31764b7f32dc2fc","&q=").concat(n,"&image_type=photo&page=").concat(t,"&orientation=horizontal&per_page=12")).then((function(n){return n.data}))}var Q=e(35),X=e.n(Q);e(161);function Y(){var n=Object(h.a)(["\nmargin:0 auto;\ndisplay:flex;\njustify-content:center;\n"]);return Y=function(){return n},n}var Z=f.a.div(Y());function $(){return Object(r.jsx)(Z,{children:Object(r.jsx)(X.a,{type:"Bars",color:"#00BFFF",height:80,width:80})})}function nn(n){var t=n.message;return Object(r.jsx)("div",{children:t})}var tn=e(36);e(162),e(163),e(164);function en(){return Object(tn.info)({title:"The input is not correct",text:"Please input another request!!",delay:3e3})}function rn(){var n=Object(h.a)(["\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  background-color: transparent;\n  border: 2px solid grey;\n  border-radius: 50%;\n  cursor: pointer;\n  opacity: 0;\n  transition-property: opacity;\n  transition-delay: 4s;\n  &.open {\n    opacity: 1;\n  }\n  &.close {\n    opacity: 0;\n  }\n"]);return rn=function(){return n},n}function an(){var n=Object(h.a)(["\n  position: relative;\n  opacity: 0;\n  transition-property: opacity;\n  transition-delay: 0.3s;\n  &.open {\n    opacity: 1;\n    animation: 1s ",";\n  }\n\n  &.close {\n    animation: 0.6s ",";\n    opacity: 0;\n  }\n"]);return an=function(){return n},n}function on(){var n=Object(h.a)(["\n  overflow: hidden;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 40px;\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100vh;\n  width: 100vw;\n  background-color: rgba(0, 0, 0, 0.7);\n"]);return on=function(){return n},n}function cn(){var n=Object(h.a)(["\n  height: 100%;\n  width: 100%;\n  object-fit: contain;\n"]);return cn=function(){return n},n}function sn(){var n=Object(h.a)(["",""]);return sn=function(){return n},n}function un(){var n=Object(h.a)(["",""]);return un=function(){return n},n}var ln=Object(f.b)(un(),C.rollIn),dn=Object(f.b)(sn(),C.rollOut),hn=f.a.img(cn()),fn=f.a.div(on()),pn=f.a.div(an(),ln,dn),bn=f.a.button(rn()),jn=function(n){Object(u.a)(e,n);var t=Object(l.a)(e);function e(){var n;Object(c.a)(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=t.call.apply(t,[this].concat(a))).state={isOut:null,timeOut:null},n.handlerEscape=function(t){"Escape"===t.code&&n.fadeoutModal()},n.fadeoutModal=function(){n.setState({isOut:!0});var t=setTimeout((function(){return n.props.onCloseModal()}),500);n.setState({timeOut:t})},n.onLoadImage=function(){n.setState({isOut:!1})},n}return Object(s.a)(e,[{key:"componentDidMount",value:function(){document.body.style.overflow="hidden",window.addEventListener("keydown",this.handlerEscape)}},{key:"componentWillUnmount",value:function(){document.body.style.overflow="visible",window.removeEventListener("keydown",this.handlerEscape),clearTimeout(this.state.timeOut)}},{key:"render",value:function(){var n=this,t=this.props.imgUrl,e="close",a="open";return Object(r.jsx)(fn,{children:Object(r.jsxs)(pn,{className:this.state.isOut?e:a,children:[Object(r.jsx)(bn,{className:this.state.isOut?e:a,type:"button",onClick:function(){n.fadeoutModal()},children:Object(r.jsx)(S.a,{icon:I.f,color:"green",size:"2x"})}),Object(r.jsx)(hn,{src:t,onLoad:this.onLoadImage})]})})}}]),e}(d.Component);function gn(){var n=Object(h.a)(["\ndisplay:block;\npadding:20px 10px;\nmax-width:250px;\nmargin:0 auto;\nborder:none;\nborder-radius:0.5rem;\nbackground-color:green;\ncolor:#fff;\nfont-size:0.8rem;\nfont-weight:600;\ncursor:pointer;\n"]);return gn=function(){return n},n}var vn=f.a.button(gn());function mn(n){var t=n.onLoad;return Object(r.jsx)(vn,{type:"button",onClick:function(){return t()},children:"LoadMore"})}function On(){var n=Object(h.a)(["\nfont-size:0.8rem;\nfont-weight:600;\ncolor:green;\nmargin-right:5px;\n"]);return On=function(){return n},n}function xn(){var n=Object(h.a)(["\nwidth:17px;\nheight :17px;\n"]);return xn=function(){return n},n}function yn(){var n=Object(h.a)(["\nwidth:max-content;\ndisplay:block;\nmargin:0 auto;\n"]);return yn=function(){return n},n}var wn=f.a.label(yn()),kn=f.a.input(xn()),Sn=f.a.span(On()),In=function(n){Object(u.a)(e,n);var t=Object(l.a)(e);function e(){var n;Object(c.a)(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=t.call.apply(t,[this].concat(a))).state={isInfinityLoad:!1},n.handleCheckbox=function(t){var e=t.target.checked;n.setState({isInfinityLoad:e}),n.props.onCheckChange(e)},n}return Object(s.a)(e,[{key:"render",value:function(){var n=this.state.isInfinityLoad;return Object(r.jsxs)(wn,{children:[Object(r.jsx)(Sn,{children:"use infinity scroll:"}),Object(r.jsx)(kn,{type:"checkbox",checked:n,onChange:this.handleCheckbox})]})}}]),e}(d.Component);function Cn(){var n=Object(h.a)(["\ndisplay: block;\nposition: fixed;\nright:5px;\nbottom: 10px;\nbackground-color:transparent;\ncursor:pointer;\n&:hover .icon{\n    color:green;\n}\n"]);return Cn=function(){return n},n}var Ln=f.a.a(Cn());function Fn(){return Object(r.jsx)(Ln,{href:"#page-header",children:Object(r.jsx)(S.a,{className:"icon",icon:I.a,color:"grey",size:"3x"})})}var Mn=function(n){Object(u.a)(e,n);var t=Object(l.a)(e);function e(){var n;Object(c.a)(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=t.call.apply(t,[this].concat(a))).state={images:[],formSearch:"",page:1,loading:!1,error:null,largeImgUrl:null,isFullHits:!1,isInfinityScroll:!1},n.registrationIntersectionObserver=function(){var t=new IntersectionObserver((function(t,e){t.forEach((function(t){t.isIntersecting&&""!==n.state.formSearch&&n.state.isInfinityScroll&&(console.log("object is intersecting"),n.fethApi())}))}),{rootMargin:"200px",threshold:.5}),e=document.querySelector("#trackingObj");t.observe(e)},n.fethApi=function(){var t=n.state,e=t.formSearch,r=t.page;n.setState({loading:!0}),K(e,r).then((function(t){0===t.hits.length&&en(),n.state.images.length<t.total?n.setState((function(n){return{images:[].concat(Object(o.a)(n.images),Object(o.a)(t.hits)),page:n.page+1,isFullHits:!1}})):n.setState({isFullHits:!0})})).catch((function(t){n.setState({error:t})})).finally((function(){n.setState({loading:!1})}))},n.handlerFormSubmit=function(t){n.setState({formSearch:t,page:1,images:[],isFullHits:!1})},n.openModal=function(t){n.setState({largeImgUrl:t})},n.closeModal=function(){n.setState({largeImgUrl:null})},n.handleCheckbox=function(t){n.setState({isInfinityScroll:t}),n.registrationIntersectionObserver()},n}return Object(s.a)(e,[{key:"componentDidUpdate",value:function(n,t){t.formSearch!==this.state.formSearch&&this.fethApi(),t.page!==this.state.page&&(this.state.isInfinityScroll||window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}))}},{key:"render",value:function(){var n=this.state,t=n.images,e=n.loading,a=n.error,i=n.largeImgUrl,o=n.isFullHits,c=n.isInfinityScroll;return Object(r.jsxs)(d.Fragment,{children:[Object(r.jsxs)(j,{children:[Object(r.jsx)(x,{onSearch:this.handlerFormSubmit}),Object(r.jsx)(In,{onCheckChange:this.handleCheckbox})]}),Object(r.jsx)("main",{children:Object(r.jsxs)(k,{children:[t.length>0&&Object(r.jsx)(_,{imagesArr:t,onGetLargeImg:this.openModal}),e&&Object(r.jsx)($,{}),a&&Object(r.jsx)(nn,{message:"Error loading:".concat(a.message)}),!e&&t.length>0&&!o&&!c&&Object(r.jsx)(mn,{onLoad:this.fethApi}),Object(r.jsx)("div",{id:"trackingObj"}),t.length>0&&Object(r.jsx)(Fn,{})]})}),i&&Object(r.jsx)(jn,{imgUrl:this.state.largeImgUrl,onCloseModal:this.closeModal})]})}}]),e}(d.Component);i.a.render(Object(r.jsx)(Mn,{}),document.querySelector("#root"))},43:function(n,t,e){}},[[165,1,2]]]);
//# sourceMappingURL=main.ad302213.chunk.js.map