{"version":3,"sources":["components/HeaderPage.js","components/FormSearch.js","components/Section.js","image/default-image.jpg","components/ImagesListRender.js","service/ServiceApi.js","components/Spinner.js","components/Notification.js","service/ErrorInfo.js","components/Modal.js","components/ButtonLoadMore.js","components/LoadInfinityControl.js","components/ButtonScrollTop.js","App.js","index.js"],"names":["Header","styled","header","HeaderPage","children","id","Form","form","Input","input","FormSearch","state","inputValue","handleInput","e","setState","target","value","handlerForm","preventDefault","props","onSearch","onSubmit","this","type","onChange","placeholder","Component","SectionContent","section","Section","bounceAnimation","keyframes","tada","List","ul","ListItem","li","Image","img","Overlay","div","StatisticBlock","StatisticItem","span","IcoView","ImageListRender","imagesArr","onGetLargeImg","map","webformatURL","DefaultImage","largeImageURL","tags","likes","views","downloads","onClick","className","icon","faSearch","color","size","faEye","faThumbsUp","faSave","src","alt","ServiceApi","query","page","axios","get","then","response","data","SpinnerBlock","Spinner","height","width","Notification","message","ErrorInfo","info","title","text","delay","animIn","rollIn","animOut","rollOut","Modal","ContentBlock","ButtonClose","button","ModalWindows","isOut","timeOut","handlerEscape","code","fadeoutModal","timeId","setTimeout","onCloseModal","onLoadImage","document","body","style","overflow","window","addEventListener","removeEventListener","clearTimeout","imgUrl","styledClose","styledOpen","faTimesCircle","onLoad","Button","ButtonLoadMore","CheckboxWrap","label","Checkbox","CheckboxTitle","LoadInfinityControl","isInfinityLoad","handleCheckbox","checked","onCheckChange","ButtonScTop","a","ButtonScrollTop","href","faChevronCircleUp","App","images","formSearch","loading","error","largeImgUrl","isFullHits","isInfinityScroll","registrationIntersectionObserver","observerApi","IntersectionObserver","entries","observer","forEach","entry","isIntersecting","console","log","fethApi","rootMargin","threshold","trackingObj","querySelector","observe","hits","length","total","prevState","catch","finally","handlerFormSubmit","openModal","urlImgLarge","closeModal","prevProps","scrollTo","top","documentElement","scrollHeight","behavior","ReactDom","render"],"mappings":"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","file":"static/js/main.ad302213.chunk.js","sourcesContent":["import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Header = styled.header`\r\npadding:50px 0px 20px;\r\nwidth:100%;\r\nbackground-color:grey;\r\n`\r\n\r\nexport default function HeaderPage({ children }) {\r\n    return (\r\n        <Header id=\"page-header\">\r\n            <nav>\r\n                {children}\r\n            </nav>\r\n        </Header>\r\n    )\r\n}","import React, { Component } from 'react'\r\nimport styled from 'styled-components'\r\n\r\nconst Form = styled.form`\r\nmax-width:350px;\r\nmargin:0 auto;\r\nmargin-bottom:10px;\r\n`\r\nconst Input = styled.input`\r\nwidth:100%;\r\nheight:30px;\r\nborder: 2px solid black;\r\nborder-radius:0.5rem;\r\npadding-left: 10px;\r\nfont-size:1rem;\r\n`\r\n\r\n\r\nexport default class FormSearch extends Component {\r\n\r\n    state = {\r\n        inputValue: '',\r\n    }\r\n\r\n    handleInput = e => {\r\n        this.setState({\r\n            inputValue: e.target.value,\r\n        })\r\n    }\r\n\r\n    handlerForm = e => {\r\n        e.preventDefault()\r\n        const { inputValue } = this.state;\r\n\r\n        this.props.onSearch(inputValue)\r\n        this.setState({\r\n            inputValue: ''\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Form onSubmit={this.handlerForm}>\r\n                <Input type=\"text\" value={this.state.inputValue} onChange={this.handleInput} placeholder=\"Search images and photos\" />\r\n            </Form>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst SectionContent = styled.section`\r\npadding:50px 0px 50px;\r\nmax-width:1000px;\r\nmargin:0 auto;\r\n`\r\n\r\nexport default function Section({ children }) {\r\n    return (\r\n        <SectionContent>\r\n            {children}\r\n        </SectionContent>\r\n    )\r\n}","export default __webpack_public_path__ + \"static/media/default-image.2e01288c.jpg\";","import React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faEye, faThumbsUp, faSave, faSearch } from '@fortawesome/free-solid-svg-icons'\r\nimport styled, { keyframes } from \"styled-components\";\r\nimport { tada } from 'react-animations';\r\nimport DefaultImage from '../image/default-image.jpg'\r\n\r\n\r\nconst bounceAnimation = keyframes`${tada}`;\r\n\r\nconst List = styled.ul`\r\nwidth:100%;\r\ndisplay:flex;\r\nflex-wrap:wrap;\r\njustify-content:space-around;\r\n`\r\nconst ListItem = styled.li`\r\nposition:relative;\r\nwidth:300px;\r\nheight:200px;\r\nmargin-bottom:25px;\r\n\r\n&:hover .overlay{\r\nvisibility:visible;\r\nopacity:1;\r\n}\r\n&:hover{\r\n   \r\n    box-shadow: 10px 5px 5px grey;\r\n    border:3px solid green;\r\n    animation: 2s ${bounceAnimation} ease-in-out;\r\n}\r\ncursor:zoom-in;\r\n`\r\nconst Image = styled.img`\r\nheight:100%;\r\nwidth:100%;\r\n`\r\nconst Overlay = styled.div`\r\nvisibility:hidden;\r\nopacity:0;\r\nposition:absolute;\r\nbackground-color:rgba(0,0,0,0.7);\r\ntop:0;\r\nleft:0;\r\nright:0;\r\nbottom: 0;\r\ntransition-property:opacity;\r\ntransition-duration:0.3s;\r\n`\r\nconst StatisticBlock = styled.div`\r\nwidth:100%;\r\ndisplay:flex;\r\njustify-content:center;\r\nposition:absolute;\r\nbottom:5px;\r\n`\r\nconst StatisticItem = styled.span`\r\nfont-size:0.8rem;\r\nfont-weight:600;\r\ncolor:#fff;\r\n&:not(:last-child){\r\n    margin-right:10px;\r\n}\r\n`\r\nconst IcoView = styled.div`\r\nposition:absolute;\r\nleft:50%;\r\ntop:50%;\r\ntransform:translate(-50%,-50%);\r\n`\r\n\r\nexport default function ImageListRender({ imagesArr, onGetLargeImg }) {\r\n    return (\r\n        <List>\r\n            {imagesArr.map(({ id, webformatURL = DefaultImage, largeImageURL, tags, likes, views, downloads }) => (\r\n                <ListItem key={id} onClick={() => onGetLargeImg(largeImageURL)}>\r\n                    <Overlay className=\"overlay\">\r\n                        <IcoView> <FontAwesomeIcon icon={faSearch} color=\"green\" size='3x' /></IcoView>\r\n                        <StatisticBlock>\r\n                            <StatisticItem><FontAwesomeIcon icon={faEye} color=\"green\" /> {views}</StatisticItem>\r\n                            <StatisticItem><FontAwesomeIcon icon={faThumbsUp} color=\"green\" /> {likes}</StatisticItem>\r\n                            <StatisticItem><FontAwesomeIcon icon={faSave} color=\"green\" /> {downloads}</StatisticItem>\r\n                        </StatisticBlock>\r\n                    </Overlay>\r\n                    <Image src={webformatURL} alt={tags} />\r\n                </ListItem>\r\n            ))}\r\n        </List>\r\n    )\r\n}","import axios from 'axios'\r\n\r\nconst BASE_URL = 'https://pixabay.com/api/'\r\nconst KEY = '18487031-50da0da9ba31764b7f32dc2fc'\r\n\r\nexport default function ServiceApi(query, page) {\r\n    return axios\r\n        .get(`${BASE_URL}?key=${KEY}&q=${query}&image_type=photo&page=${page}&orientation=horizontal&per_page=12`)\r\n        .then(response => response.data)\r\n\r\n}\r\n","import React from 'react'\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport styled from 'styled-components'\r\n\r\nconst SpinnerBlock = styled.div`\r\nmargin:0 auto;\r\ndisplay:flex;\r\njustify-content:center;\r\n`\r\n\r\nexport default function Spinner() {\r\n    return (\r\n        <SpinnerBlock>\r\n            <Loader type=\"Bars\" color=\"#00BFFF\" height={80} width={80} />\r\n        </SpinnerBlock>\r\n    )\r\n}","import React from 'react'\r\n\r\nexport default function Notification({ message }) {\r\n    return (\r\n        <div>\r\n            {message}\r\n        </div>\r\n    )\r\n}","import { info } from \"@pnotify/core\";\r\nimport \"@pnotify/core/dist/PNotify.css\";\r\nimport \"@pnotify/core/dist/BrightTheme.css\";\r\nimport \"@pnotify/confirm/dist/PNotifyConfirm.css\"\r\n\r\nexport default function ErrorInfo() {\r\n    return info({\r\n        title: \"The input is not correct\",\r\n        text: \"Please input another request!!\",\r\n        delay: 3000\r\n    })\r\n}","import React, { Component } from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faTimesCircle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport styled, { keyframes } from \"styled-components\";\r\nimport { rollIn, rollOut } from \"react-animations\";\r\n\r\nconst animIn = keyframes`${rollIn}`;\r\nconst animOut = keyframes`${rollOut}`;\r\n\r\nconst Image = styled.img`\r\n  height: 100%;\r\n  width: 100%;\r\n  object-fit: contain;\r\n`;\r\nconst Modal = styled.div`\r\n  overflow: hidden;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding: 40px;\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  height: 100vh;\r\n  width: 100vw;\r\n  background-color: rgba(0, 0, 0, 0.7);\r\n`;\r\nconst ContentBlock = styled.div`\r\n  position: relative;\r\n  opacity: 0;\r\n  transition-property: opacity;\r\n  transition-delay: 0.3s;\r\n  &.open {\r\n    opacity: 1;\r\n    animation: 1s ${animIn};\r\n  }\r\n\r\n  &.close {\r\n    animation: 0.6s ${animOut};\r\n    opacity: 0;\r\n  }\r\n`;\r\nconst ButtonClose = styled.button`\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 10px;\r\n  background-color: transparent;\r\n  border: 2px solid grey;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  opacity: 0;\r\n  transition-property: opacity;\r\n  transition-delay: 4s;\r\n  &.open {\r\n    opacity: 1;\r\n  }\r\n  &.close {\r\n    opacity: 0;\r\n  }\r\n`;\r\nexport default class ModalWindows extends Component {\r\n    state = {\r\n        isOut: null,\r\n        timeOut: null\r\n    };\r\n\r\n    componentDidMount() {\r\n        document.body.style.overflow = \"hidden\";\r\n        window.addEventListener(\"keydown\", this.handlerEscape);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        document.body.style.overflow = \"visible\";\r\n        window.removeEventListener(\"keydown\", this.handlerEscape);\r\n        clearTimeout(this.state.timeOut);\r\n    }\r\n\r\n    handlerEscape = e => {\r\n        if (e.code === \"Escape\") {\r\n            this.fadeoutModal();\r\n        }\r\n    };\r\n\r\n    fadeoutModal = () => {\r\n        this.setState({\r\n            isOut: true\r\n        });\r\n        const timeId = setTimeout(() => this.props.onCloseModal(), 500);\r\n        this.setState({\r\n            timeOut: timeId\r\n        });\r\n    };\r\n\r\n    onLoadImage = () => {\r\n        this.setState({\r\n            isOut: false\r\n        });\r\n    };\r\n\r\n    render() {\r\n        const { imgUrl } = this.props;\r\n        const styledClose = \"close\";\r\n        const styledOpen = \"open\";\r\n\r\n        return (\r\n            <Modal>\r\n                <ContentBlock className={this.state.isOut ? styledClose : styledOpen}>\r\n                    <ButtonClose\r\n                        className={this.state.isOut ? styledClose : styledOpen}\r\n                        type=\"button\"\r\n                        onClick={() => {\r\n                            this.fadeoutModal();\r\n                        }\r\n                        } >\r\n                        <FontAwesomeIcon icon={faTimesCircle} color=\"green\" size=\"2x\" />\r\n                    </ButtonClose>\r\n                    <Image src={imgUrl} onLoad={this.onLoadImage} />\r\n                </ContentBlock>\r\n            </Modal>\r\n        );\r\n    }\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\n\r\nconst Button = styled.button`\r\ndisplay:block;\r\npadding:20px 10px;\r\nmax-width:250px;\r\nmargin:0 auto;\r\nborder:none;\r\nborder-radius:0.5rem;\r\nbackground-color:green;\r\ncolor:#fff;\r\nfont-size:0.8rem;\r\nfont-weight:600;\r\ncursor:pointer;\r\n`\r\n\r\n\r\n\r\n\r\nexport default function ButtonLoadMore({ onLoad }) {\r\n    return (\r\n\r\n        <Button type=\"button\" onClick={() => onLoad()}>LoadMore</Button>\r\n\r\n    )\r\n}","import React, { Component } from 'react'\r\nimport styled from 'styled-components'\r\n\r\nconst CheckboxWrap = styled.label`\r\nwidth:max-content;\r\ndisplay:block;\r\nmargin:0 auto;\r\n`\r\nconst Checkbox = styled.input`\r\nwidth:17px;\r\nheight :17px;\r\n`\r\nconst CheckboxTitle = styled.span`\r\nfont-size:0.8rem;\r\nfont-weight:600;\r\ncolor:green;\r\nmargin-right:5px;\r\n`\r\n\r\n\r\nexport default class LoadInfinityControl extends Component {\r\n    state = {\r\n        isInfinityLoad: false\r\n    }\r\n\r\n\r\n    handleCheckbox = (e) => {\r\n        const { checked } = e.target;\r\n        this.setState({\r\n            isInfinityLoad: checked\r\n        })\r\n        this.props.onCheckChange(checked)\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        const { isInfinityLoad } = this.state\r\n        return (\r\n            <CheckboxWrap>\r\n                <CheckboxTitle>use infinity scroll:</CheckboxTitle>\r\n                <Checkbox\r\n                    type=\"checkbox\"\r\n                    checked={isInfinityLoad}\r\n                    onChange={this.handleCheckbox}\r\n                />\r\n            </CheckboxWrap>\r\n        )\r\n    }\r\n\r\n}","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faChevronCircleUp } from '@fortawesome/free-solid-svg-icons'\r\n\r\nconst ButtonScTop = styled.a`\r\ndisplay: block;\r\nposition: fixed;\r\nright:5px;\r\nbottom: 10px;\r\nbackground-color:transparent;\r\ncursor:pointer;\r\n&:hover .icon{\r\n    color:green;\r\n}\r\n`\r\n\r\nexport default function ButtonScrollTop() {\r\n    return (\r\n        <ButtonScTop href='#page-header'>\r\n            <FontAwesomeIcon className='icon' icon={faChevronCircleUp} color=\"grey\" size='3x' />\r\n        </ButtonScTop>\r\n    )\r\n}","import React, { Component, Fragment } from 'react'\r\nimport PageHeader from './components/HeaderPage'\r\nimport FormSearch from './components/FormSearch'\r\nimport Section from './components/Section'\r\nimport ImageListRender from './components/ImagesListRender'\r\nimport ServiceApi from './service/ServiceApi'\r\nimport Spinner from './components/Spinner'\r\nimport Notification from './components/Notification'\r\nimport ErrorInfo from './service/ErrorInfo'\r\nimport Modal from './components/Modal'\r\nimport ButtonLoadMore from './components/ButtonLoadMore'\r\nimport LoadInfinityControl from './components/LoadInfinityControl'\r\nimport ButtonScrollTop from './components/ButtonScrollTop'\r\n\r\n\r\nexport default class App extends Component {\r\n\r\n    state = {\r\n        images: [],\r\n        formSearch: '',\r\n        page: 1,\r\n        loading: false,\r\n        error: null,\r\n        largeImgUrl: null,\r\n        isFullHits: false,\r\n        isInfinityScroll: false\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (prevState.formSearch !== this.state.formSearch) {\r\n            this.fethApi()\r\n        }\r\n        if (prevState.page !== this.state.page) {\r\n            if (!this.state.isInfinityScroll) {\r\n                window.scrollTo({\r\n                    top: document.documentElement.scrollHeight,\r\n                    behavior: 'smooth',\r\n                });\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    registrationIntersectionObserver = () => {\r\n        const onEntries = (entries, observer) => {\r\n            entries.forEach(entry => {\r\n                if (entry.isIntersecting && this.state.formSearch !== \"\" && this.state.isInfinityScroll) {\r\n                    console.log(\"object is intersecting\");\r\n                    this.fethApi();\r\n                }\r\n            });\r\n        };\r\n        const options = {\r\n            rootMargin: \"200px\",\r\n            threshold: 0.5,\r\n        };\r\n        const observerApi = new IntersectionObserver(onEntries, options);\r\n        const trackingObj = document.querySelector('#trackingObj');\r\n        observerApi.observe(trackingObj);\r\n    }\r\n\r\n    fethApi = () => {\r\n        const { formSearch, page } = this.state\r\n        this.setState({\r\n            loading: true\r\n        })\r\n        ServiceApi(formSearch, page)\r\n            .then(data => {\r\n                if (data.hits.length === 0) {\r\n                    ErrorInfo()\r\n                }\r\n                if (this.state.images.length < data.total) {\r\n                    this.setState(prevState => {\r\n                        return {\r\n                            images: [...prevState.images, ...data.hits],\r\n                            page: prevState.page + 1,\r\n                            isFullHits: false\r\n                        }\r\n                    })\r\n                } else {\r\n                    this.setState({\r\n                        isFullHits: true\r\n                    })\r\n                }\r\n            })\r\n            .catch(error => {\r\n                this.setState({\r\n                    error\r\n                })\r\n            })\r\n            .finally(() => {\r\n                this.setState({\r\n                    loading: false\r\n                })\r\n            })\r\n    }\r\n\r\n    handlerFormSubmit = (query) => {\r\n        this.setState({\r\n            formSearch: query,\r\n            page: 1,\r\n            images: [],\r\n            isFullHits: false,\r\n        })\r\n\r\n    }\r\n\r\n    openModal = (urlImgLarge) => {\r\n        this.setState({\r\n            largeImgUrl: urlImgLarge\r\n        })\r\n    }\r\n\r\n    closeModal = () => {\r\n        this.setState({\r\n            largeImgUrl: null,\r\n        })\r\n    }\r\n\r\n    handleCheckbox = checked => {\r\n        this.setState({\r\n            isInfinityScroll: checked\r\n        })\r\n        this.registrationIntersectionObserver()\r\n    }\r\n\r\n    render() {\r\n        const { images, loading, error, largeImgUrl, isFullHits, isInfinityScroll } = this.state\r\n        return (\r\n            <Fragment>\r\n\r\n                <PageHeader>\r\n                    <FormSearch onSearch={this.handlerFormSubmit} />\r\n                    <LoadInfinityControl onCheckChange={this.handleCheckbox} />\r\n                </PageHeader>\r\n                <main>\r\n                    <Section>\r\n                        {images.length > 0 && <ImageListRender imagesArr={images} onGetLargeImg={this.openModal} />}\r\n                        {loading && <Spinner />}\r\n                        {error && <Notification message={`Error loading:${error.message}`} />}\r\n                        {!loading && images.length > 0 && !isFullHits && !isInfinityScroll && (<ButtonLoadMore onLoad={this.fethApi} />)}\r\n                        <div id='trackingObj' />\r\n                        {images.length > 0 && <ButtonScrollTop />}\r\n                    </Section>\r\n\r\n                </main>\r\n                {largeImgUrl && <Modal imgUrl={this.state.largeImgUrl} onCloseModal={this.closeModal} />}\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n","import ReactDom from 'react-dom'\r\nimport '@csstools/normalize.css';\r\nimport './base.css'\r\nimport App from './App';\r\n\r\n\r\nReactDom.render(<App />, document.querySelector('#root'))\r\n\r\n"],"sourceRoot":""}